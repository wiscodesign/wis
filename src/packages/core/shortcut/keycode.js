const KEY_CODE_CANCEL = 3
const KEY_CODE_HELP = 6
const KEY_CODE_BACK_SPACE = 8
const KEY_CODE_TAB = 9
const KEY_CODE_CLEAR = 12
const KEY_CODE_ENTER = 13
const KEY_CODE_SHIFT = 16
const KEY_CODE_CONTROL = 17
const KEY_CODE_ALT = 18
const KEY_CODE_PAUSE = 19
const KEY_CODE_CAPS_LOCK = 20
const KEY_CODE_ESCAPE = 27
const KEY_CODE_SPACE = 32
const KEY_CODE_PAGE_UP = 33
const KEY_CODE_PAGE_DOWN = 34
const KEY_CODE_END = 35
const KEY_CODE_HOME = 36
const KEY_CODE_LEFT = 37
const KEY_CODE_UP = 38
const KEY_CODE_RIGHT = 39
const KEY_CODE_DOWN = 40
const KEY_CODE_PRINT_SCREEN = 44
const KEY_CODE_INSERT = 45
const KEY_CODE_DELETE = 46
const KEY_CODE_0 = 48
const KEY_CODE_1 = 49
const KEY_CODE_2 = 50
const KEY_CODE_3 = 51
const KEY_CODE_4 = 52
const KEY_CODE_5 = 53
const KEY_CODE_6 = 54
const KEY_CODE_7 = 55
const KEY_CODE_8 = 56
const KEY_CODE_9 = 57
const KEY_CODE_A = 65
const KEY_CODE_B = 66
const KEY_CODE_C = 67
const KEY_CODE_D = 68
const KEY_CODE_E = 69
const KEY_CODE_F = 70
const KEY_CODE_G = 71
const KEY_CODE_H = 72
const KEY_CODE_I = 73
const KEY_CODE_J = 74
const KEY_CODE_K = 75
const KEY_CODE_L = 76
const KEY_CODE_M = 77
const KEY_CODE_N = 78
const KEY_CODE_O = 79
const KEY_CODE_P = 80
const KEY_CODE_Q = 81
const KEY_CODE_R = 82
const KEY_CODE_S = 83
const KEY_CODE_T = 84
const KEY_CODE_U = 85
const KEY_CODE_V = 86
const KEY_CODE_W = 87
const KEY_CODE_X = 88
const KEY_CODE_Y = 89
const KEY_CODE_Z = 90
const KEY_CODE_LEFT_CMD = 91
const KEY_CODE_RIGHT_CMD = 92
const KEY_CODE_META = 224
const KEY_CODE_CONTEXT_MENU = 93
const KEY_CODE_NUMPAD0 = 96
const KEY_CODE_NUMPAD1 = 97
const KEY_CODE_NUMPAD2 = 98
const KEY_CODE_NUMPAD3 = 99
const KEY_CODE_NUMPAD4 = 100
const KEY_CODE_NUMPAD5 = 101
const KEY_CODE_NUMPAD6 = 102
const KEY_CODE_NUMPAD7 = 103
const KEY_CODE_NUMPAD8 = 104
const KEY_CODE_NUMPAD9 = 105
const KEY_CODE_MULTIPLY = 106
const KEY_CODE_ADD = 107
const KEY_CODE_SEPARATOR = 108
const KEY_CODE_SUBTRACT = 109
const KEY_CODE_DECIMAL = 110
const KEY_CODE_DIVIDE = 111
const KEY_CODE_F1 = 112
const KEY_CODE_F2 = 113
const KEY_CODE_F3 = 114
const KEY_CODE_F4 = 115
const KEY_CODE_F5 = 116
const KEY_CODE_F6 = 117
const KEY_CODE_F7 = 118
const KEY_CODE_F8 = 119
const KEY_CODE_F9 = 120
const KEY_CODE_F10 = 121
const KEY_CODE_F11 = 122
const KEY_CODE_F12 = 123
const KEY_CODE_F13 = 124
const KEY_CODE_F14 = 125
const KEY_CODE_F15 = 126
const KEY_CODE_F16 = 127
const KEY_CODE_F17 = 128
const KEY_CODE_F18 = 129
const KEY_CODE_F19 = 130
const KEY_CODE_F20 = 131
const KEY_CODE_F21 = 132
const KEY_CODE_F22 = 133
const KEY_CODE_F23 = 134
const KEY_CODE_F24 = 135
const KEY_CODE_NUM_LOCK = 144
const KEY_CODE_SCROLL_LOCK = 145
const KEY_CODE_SEMICOLON = 186
const KEY_CODE_EQUALS = 187
const KEY_CODE_COMMA = 188
const KEY_CODE_DASH = 189
const KEY_CODE_PERIOD = 190
const KEY_CODE_SLASH = 191
const KEY_CODE_BACK_QUOTE = 192
const KEY_CODE_OPEN_BRACKET = 219
const KEY_CODE_BACK_SLASH = 220
const KEY_CODE_CLOSE_BRACKET = 221
const KEY_CODE_QUOTE = 222
// Key code constants specific to firefox only.
const KEY_CODE_FIREFOX_ENTER = 14
const KEY_CODE_FIREFOX_SEMICOLON = 59
const KEY_CODE_FIREFOX_EQUALS = 61
const KEY_CODE_FIREFOX_SEPARATOR = 108
const KEY_CODE_FIREFOX_META = 224
// Key values constants
// Available values for `KeyboardEvent.key` attribute.
const KEY_CANCEL = 'Cancel'
const KEY_HELP = 'Help'
const KEY_BACK_SPACE = 'Backspace'
const KEY_TAB = 'Tab'
const KEY_CLEAR = 'Clear'
const KEY_ENTER = 'Enter'
// eslint-disable-next-line no-unused-vars
const KEY_SHIFT = 'Shift'
// eslint-disable-next-line no-unused-vars
const KEY_CONTROL = 'Control'
// eslint-disable-next-line no-unused-vars
const KEY_ALT = 'Alt'
const KEY_PAUSE = 'Pause'
const KEY_CAPS_LOCK = 'CapsLock'
const KEY_ESCAPE = 'Escape'
const KEY_SPACE = 'Space'
const KEY_PAGE_UP = 'PageUp'
const KEY_PAGE_DOWN = 'PageDown'
const KEY_END = 'End'
const KEY_HOME = 'Home'
const KEY_LEFT = 'ArrowLeft'
const KEY_UP = 'ArrowUp'
const KEY_RIGHT = 'ArrowRight'
const KEY_DOWN = 'ArrowDown'
const KEY_PRINT_SCREEN = 'PrintScreen'
const KEY_INSERT = 'Insert'
const KEY_DELETE = 'Delete'
const KEY_0 = '0'
const KEY_1 = '1'
const KEY_2 = '2'
const KEY_3 = '3'
const KEY_4 = '4'
const KEY_5 = '5'
const KEY_6 = '6'
const KEY_7 = '7'
const KEY_8 = '8'
const KEY_9 = '9'
const KEY_A = 'A'
const KEY_B = 'B'
const KEY_C = 'C'
const KEY_D = 'D'
const KEY_E = 'E'
const KEY_F = 'F'
const KEY_G = 'G'
const KEY_H = 'H'
const KEY_I = 'I'
const KEY_J = 'J'
const KEY_K = 'K'
const KEY_L = 'L'
const KEY_M = 'M'
const KEY_N = 'N'
const KEY_O = 'O'
const KEY_P = 'P'
const KEY_Q = 'Q'
const KEY_R = 'R'
const KEY_S = 'S'
const KEY_T = 'T'
const KEY_U = 'U'
const KEY_V = 'V'
const KEY_W = 'W'
const KEY_X = 'X'
const KEY_Y = 'Y'
const KEY_Z = 'Z'
// eslint-disable-next-line no-unused-vars
const KEY_META = 'Meta'
const KEY_CONTEXT_MENU = 'ContextMenu'
const KEY_MULTIPLY = '*'
const KEY_ADD = '+'
// eslint-disable-next-line no-unused-vars
const KEY_SUBTRACT = '-'
const KEY_DECIMAL = '.'
// eslint-disable-next-line no-unused-vars
const KEY_DIVIDE = '/'
const KEY_F1 = 'F1'
const KEY_F2 = 'F2'
const KEY_F3 = 'F3'
const KEY_F4 = 'F4'
const KEY_F5 = 'F5'
const KEY_F6 = 'F6'
const KEY_F7 = 'F7'
const KEY_F8 = 'F8'
const KEY_F9 = 'F9'
const KEY_F10 = 'F10'
const KEY_F11 = 'F11'
const KEY_F12 = 'F12'
const KEY_F13 = 'F13'
const KEY_F14 = 'F14'
const KEY_F15 = 'F15'
const KEY_F16 = 'F16'
const KEY_F17 = 'F17'
const KEY_F18 = 'F18'
const KEY_F19 = 'F19'
const KEY_F20 = 'F20'
const KEY_F21 = 'F21'
const KEY_F22 = 'F22'
const KEY_F23 = 'F23'
const KEY_F24 = 'F24'
const KEY_NUM_LOCK = 'NumLock'
const KEY_SCROLL_LOCK = 'ScrollLock'
const KEY_SEMICOLON = ';'
const KEY_EQUALS = '='
const KEY_COMMA = ','
const KEY_DASH = '-'
// eslint-disable-next-line no-unused-vars
const KEY_PERIOD = '.'
const KEY_SLASH = '/'
const KEY_BACK_QUOTE = '`'
const KEY_OPEN_BRACKET = '['
const KEY_BACK_SLASH = '\\'
const KEY_CLOSE_BRACKET = ']'
const KEY_QUOTE = "'"

/**
 * Map special key codes to unified output key codes
 *
 * @param {number} keyCode - The key code to be mapped.
 * @returns {number} - The mapped key code.
 */
export function keyCodeMapper(keyCode) {
  if ([KEY_CODE_LEFT_CMD, KEY_CODE_RIGHT_CMD, KEY_CODE_FIREFOX_META].includes(keyCode)) {
    return KEY_CODE_META
  }

  if (KEY_CODE_FIREFOX_ENTER === keyCode) {
    return KEY_CODE_ENTER
  }

  if (KEY_CODE_FIREFOX_SEMICOLON === keyCode) {
    return KEY_CODE_SEMICOLON
  }

  if (KEY_CODE_FIREFOX_EQUALS === keyCode) {
    return KEY_CODE_EQUALS
  }

  if (KEY_CODE_FIREFOX_SEPARATOR === keyCode) {
    return KEY_CODE_SEPARATOR
  }

  if (KEY_CODE_DIVIDE === keyCode) {
    return KEY_CODE_SLASH
  }

  if (KEY_CODE_PERIOD === keyCode) {
    return KEY_CODE_DECIMAL
  }

  if (KEY_CODE_SUBTRACT === keyCode) {
    return KEY_CODE_DASH
  }

  const numpadMap = {
    [KEY_CODE_NUMPAD0]: KEY_CODE_0,
    [KEY_CODE_NUMPAD1]: KEY_CODE_1,
    [KEY_CODE_NUMPAD2]: KEY_CODE_2,
    [KEY_CODE_NUMPAD3]: KEY_CODE_3,
    [KEY_CODE_NUMPAD4]: KEY_CODE_4,
    [KEY_CODE_NUMPAD5]: KEY_CODE_5,
    [KEY_CODE_NUMPAD6]: KEY_CODE_6,
    [KEY_CODE_NUMPAD7]: KEY_CODE_7,
    [KEY_CODE_NUMPAD8]: KEY_CODE_8,
    [KEY_CODE_NUMPAD9]: KEY_CODE_9,
  }
  if (numpadMap[keyCode]) {
    return numpadMap[keyCode]
  }

  return keyCode
}

export function isCommandKey(keyCode) {
  return [KEY_CODE_CONTROL, KEY_CODE_SHIFT, KEY_CODE_ALT, KEY_CODE_META].includes(keyCodeMapper(keyCode))
}

const localKeyMap = {
  [KEY_CANCEL]: KEY_CODE_CANCEL,
  [KEY_HELP]: KEY_CODE_HELP,
  [KEY_BACK_SPACE]: KEY_CODE_BACK_SPACE,
  [KEY_TAB]: KEY_CODE_TAB,
  [KEY_CLEAR]: KEY_CODE_CLEAR,
  [KEY_ENTER]: KEY_CODE_ENTER,
  [KEY_PAUSE]: KEY_CODE_PAUSE,
  [KEY_CAPS_LOCK]: KEY_CODE_CAPS_LOCK,
  [KEY_ESCAPE]: KEY_CODE_ESCAPE,
  [KEY_SPACE]: KEY_CODE_SPACE,
  [KEY_PAGE_UP]: KEY_CODE_PAGE_UP,
  [KEY_PAGE_DOWN]: KEY_CODE_PAGE_DOWN,
  [KEY_END]: KEY_CODE_END,
  [KEY_HOME]: KEY_CODE_HOME,
  [KEY_LEFT]: KEY_CODE_LEFT,
  [KEY_UP]: KEY_CODE_UP,
  [KEY_RIGHT]: KEY_CODE_RIGHT,
  [KEY_DOWN]: KEY_CODE_DOWN,
  [KEY_PRINT_SCREEN]: KEY_CODE_PRINT_SCREEN,
  [KEY_INSERT]: KEY_CODE_INSERT,
  [KEY_DELETE]: KEY_CODE_DELETE,
  [KEY_0]: KEY_CODE_0,
  [KEY_1]: KEY_CODE_1,
  [KEY_2]: KEY_CODE_2,
  [KEY_3]: KEY_CODE_3,
  [KEY_4]: KEY_CODE_4,
  [KEY_5]: KEY_CODE_5,
  [KEY_6]: KEY_CODE_6,
  [KEY_7]: KEY_CODE_7,
  [KEY_8]: KEY_CODE_8,
  [KEY_9]: KEY_CODE_9,
  [KEY_A]: KEY_CODE_A,
  [KEY_B]: KEY_CODE_B,
  [KEY_C]: KEY_CODE_C,
  [KEY_D]: KEY_CODE_D,
  [KEY_E]: KEY_CODE_E,
  [KEY_F]: KEY_CODE_F,
  [KEY_G]: KEY_CODE_G,
  [KEY_H]: KEY_CODE_H,
  [KEY_I]: KEY_CODE_I,
  [KEY_J]: KEY_CODE_J,
  [KEY_K]: KEY_CODE_K,
  [KEY_L]: KEY_CODE_L,
  [KEY_M]: KEY_CODE_M,
  [KEY_N]: KEY_CODE_N,
  [KEY_O]: KEY_CODE_O,
  [KEY_P]: KEY_CODE_P,
  [KEY_Q]: KEY_CODE_Q,
  [KEY_R]: KEY_CODE_R,
  [KEY_S]: KEY_CODE_S,
  [KEY_T]: KEY_CODE_T,
  [KEY_U]: KEY_CODE_U,
  [KEY_V]: KEY_CODE_V,
  [KEY_W]: KEY_CODE_W,
  [KEY_X]: KEY_CODE_X,
  [KEY_Y]: KEY_CODE_Y,
  [KEY_Z]: KEY_CODE_Z,
  [KEY_CONTEXT_MENU]: KEY_CODE_CONTEXT_MENU,
  [KEY_MULTIPLY]: KEY_CODE_MULTIPLY,
  [KEY_ADD]: KEY_CODE_ADD,
  [KEY_DECIMAL]: KEY_CODE_DECIMAL,
  [KEY_F1]: KEY_CODE_F1,
  [KEY_F2]: KEY_CODE_F2,
  [KEY_F3]: KEY_CODE_F3,
  [KEY_F4]: KEY_CODE_F4,
  [KEY_F5]: KEY_CODE_F5,
  [KEY_F6]: KEY_CODE_F6,
  [KEY_F7]: KEY_CODE_F7,
  [KEY_F8]: KEY_CODE_F8,
  [KEY_F9]: KEY_CODE_F9,
  [KEY_F10]: KEY_CODE_F10,
  [KEY_F11]: KEY_CODE_F11,
  [KEY_F12]: KEY_CODE_F12,
  [KEY_F13]: KEY_CODE_F13,
  [KEY_F14]: KEY_CODE_F14,
  [KEY_F15]: KEY_CODE_F15,
  [KEY_F16]: KEY_CODE_F16,
  [KEY_F17]: KEY_CODE_F17,
  [KEY_F18]: KEY_CODE_F18,
  [KEY_F19]: KEY_CODE_F19,
  [KEY_F20]: KEY_CODE_F20,
  [KEY_F21]: KEY_CODE_F21,
  [KEY_F22]: KEY_CODE_F22,
  [KEY_F23]: KEY_CODE_F23,
  [KEY_F24]: KEY_CODE_F24,
  [KEY_NUM_LOCK]: KEY_CODE_NUM_LOCK,
  [KEY_SCROLL_LOCK]: KEY_CODE_SCROLL_LOCK,
  [KEY_SEMICOLON]: KEY_CODE_SEMICOLON,
  [KEY_EQUALS]: KEY_CODE_EQUALS,
  [KEY_COMMA]: KEY_CODE_COMMA,
  [KEY_DASH]: KEY_CODE_DASH,
  [KEY_SLASH]: KEY_CODE_SLASH,
  [KEY_BACK_QUOTE]: KEY_CODE_BACK_QUOTE,
  [KEY_OPEN_BRACKET]: KEY_CODE_OPEN_BRACKET,
  [KEY_BACK_SLASH]: KEY_CODE_BACK_SLASH,
  [KEY_CLOSE_BRACKET]: KEY_CODE_CLOSE_BRACKET,
  [KEY_QUOTE]: KEY_CODE_QUOTE,
}

export const keyMap = Object.keys(localKeyMap).reduce((result, key) => {
  result[key.toUpperCase()] = localKeyMap[key]
  return result
}, {})
